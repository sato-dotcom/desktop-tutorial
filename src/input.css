@tailwind base;
@tailwind components;
@tailwind utilities;

/* Basic layout */
html, body {
  @apply m-0 p-0 h-full overflow-hidden font-sans;
}

#map {
  @apply fixed inset-0 w-screen bg-gray-400;
  height: 100vh; /* Fallback */
  height: 100dvh;
}

/* --- Custom Leaflet Controls --- */
.leaflet-control-custom-btn {
  @apply w-[34px] h-[34px] flex items-center justify-center text-lg cursor-pointer;
  line-height: 34px;
}

/* 修正方針 4: 追従・ヘディングアップボタンの状態別スタイル */
.leaflet-control-custom-btn.is-on {
  @apply bg-blue-500 text-white;
}
.leaflet-control-custom-btn.is-on:hover {
  @apply bg-blue-600;
}

.leaflet-control-custom-btn.is-off {
  @apply bg-white text-gray-800;
}
.leaflet-control-custom-btn.is-off:hover {
  @apply bg-gray-100;
}


/* --- User Marker --- */
.user-location-marker {
    @apply transition-transform duration-300 ease-linear;
}
.user-location-marker-rotator {
    @apply w-full h-full transition-transform duration-300 ease-linear;
}
.user-location-marker svg {
    @apply w-full h-full fill-current text-blue-500;
    filter: drop-shadow(0 0 3px rgba(0,0,0,0.5));
}


/* --- Controls Panel --- */
#controls-panel {
    @apply fixed bottom-0 left-0 right-0 max-h-[60%] transition-transform duration-300 ease-in-out;
    transform: translateY(0);
}

/* --- Fullscreen Mode --- */
body.fullscreen-active #controls-panel {
    transform: translateY(100%);
}
body.fullscreen-active #fullscreen-info-panel {
    @apply opacity-100;
}
#fullscreen-info-panel {
    @apply fixed top-4 left-4 bg-white bg-opacity-80 p-3 rounded-lg shadow-lg pointer-events-none opacity-0 transition-opacity;
    backdrop-filter: blur(5px);
}

/* --- Modals --- */
.modal {
    @apply hidden; /* Default hidden */
}
.modal.is-open {
    @apply flex; /* Show when open */
}

/* --- Scrollbar --- */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  @apply bg-gray-100;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  @apply bg-gray-400 rounded-full;
}

/* Spinner for AI button */
.spinner {
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: #fff;
  animation: spin 1s ease-in-out infinite;
}
@keyframes spin {
  to { transform: rotate(360deg); }
}
